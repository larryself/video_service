!function(){var e={993:function(){var e=document.querySelector(".js-enter-modal"),t=document.querySelector(".page-body"),a=document.querySelector(".js-modal-form"),n=document.querySelector(".js-logguot"),o=document.querySelector(".js-current-user-name"),c=document.querySelector(".js-modal-window"),i=document.querySelector(".js-form-change-name"),r="autorized";if(localStorage.getItem(r)){var s=localStorage.getItem(r),l=JSON.parse(s);d(),o.textContent=l.user,e.classList.remove("header-login__btn_active"),n.classList.add("header-login__btn_active")}function u(){c.matches(".modal_active")||(c.classList.add("modal_active"),t.classList.add("page-body_not-overflow"))}function d(t){o.textContent=t,o.classList.add("header-login__user-name_active"),e.classList.remove("header-login__btn_active"),n.classList.add("header-login__btn_active")}function v(){c.classList.remove("modal_active"),t.classList.remove("page-body_not-overflow")}o.addEventListener("click",(function(e){var t=document.querySelector(".js-change-name-input");t.value=o.textContent,t.classList.add("header-login__input_active"),t.focus(),o.classList.remove("header-login__user-name_active")})),i.addEventListener("submit",(function(e){e.preventDefault();var t=document.querySelector(".js-change-name-input");o.textContent=t.value,t.classList.remove("header-login__input_active"),o.classList.add("header-login__user-name_active"),i.reset()})),document.querySelector(".js-change-name-input").addEventListener("blur",(function(){i.requestSubmit()})),c.addEventListener("click",(function(e){if(e.target.classList.contains("modal"))return v();u()})),e.addEventListener("click",(function(){u()})),a.addEventListener("submit",(function(e){var t,n;e.preventDefault(),n=document.querySelector(".js-form-login").value,document.querySelector(".js-form-checkbox").checked&&(t={authorized:!0,user:n},JSON.stringify(t),localStorage.setItem(r,JSON.stringify(t))),d(n),v(),a.reset()})),n.addEventListener("click",(function(){n.classList.remove("header-login__btn_active"),e.classList.add("header-login__btn_active"),localStorage.clear(),o.innerHTML=localStorage.getItem("loginName")}))},503:function(){"tv"==localStorage.getItem("tabs")&&(document.querySelector(".main-nav__item_active").classList.remove("main-nav__item_active"),document.querySelector(".main-nav__section_active").classList.remove("main-nav__section_active"),document.querySelector('[data-trigger="tv"]').classList.add("main-nav__item_active"),document.querySelector('[data-content="tv"]').classList.add("main-nav__section_active"),window.location.hash="#tv"),document.querySelectorAll(".js-tabs").forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),e.target.matches(".main-nav__item_active")||("tv"==e.target.closest(".js-tabs").dataset.trigger&&(localStorage.setItem("tabs","tv"),window.location.hash="#tv"),"films"==e.target.closest(".js-tabs").dataset.trigger&&(window.location.hash="",localStorage.clear()),function(e){var t=document.querySelector('[data-content="'.concat(e.target.closest(".js-tabs").dataset.trigger,'"]'));document.querySelector(".main-nav__item_active").classList.remove("main-nav__item_active"),document.querySelector(".main-nav__section_active").classList.remove("main-nav__section_active"),e.target.classList.add("main-nav__item_active"),t.classList.add("main-nav__section_active")}(e))}))}))}},t={};function a(n){var o=t[n];if(void 0!==o)return o.exports;var c=t[n]={exports:{}};return e[n](c,c.exports,a),c.exports}a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";a(993),a(503)}()}();